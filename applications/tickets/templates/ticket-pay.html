{# Ticket registration form. #}
{% extends "base-template.html" %}
{% block title %}{{ ticket.convention }} ticket for {{ ticket.get_full_name}} {{ convention }}{% endblock %}
{% block content %}
<div class="small-12 columns">
  <h1>Your ticket reservation</h1>
</div>
<div class="small-12 columns">
  <p>Your ticket reservation has been registered</p>
  <p>Our card payment system is not quite ready yet. If you have a Norwegian bank account, please pay by bank transfer to 1720.25.85248. Mark your payment with the ticket id {{ ticket.hashid }}. If we have not received payment within 5 working days, we reserve the right to delete your signup.</p>
  <p>If you don't have a Norwegian bank account, you may wait until our credit card solution is ready, and we'll send you an email with payment instructions.</p>
</div>
<hr>
<div class="small-12 medium-6 columns">
    <h3>Ticket information</h3>
      <table class="profile_form small-12 columns">
          <tr><td>Price:</td><td>{{ ticket.ticket_type.get_price_display }}</td></tr>
          <tr><td>Ticket Type:</td><td>{{ ticket.ticket_type.name }}</td></tr>
          <tr><td>Event:</td><td>{{ ticket.convention }}</td></tr>
          <tr><td>Ticket Holder:</td><td>{{ ticket.get_full_name }}</td></tr>
          <tr><td>E-mail:</td><td>{{ ticket.email }}</td></tr>
          <tr><td>Address:</td><td>{{ ticket.get_address_display }}</td></tr>
      </table>
    </div>
<div class="small-12 medium-6 columns">
  <h3>Credit Card information</h3>
 <form id="payment-form" action="#" method="POST">{% csrf_token %}
   <input class="card-amount-int" type="hidden" value="{{ ticket.ticket_type.price }}" />
   <input class="card-currency" type="hidden" value="{{ ticket.ticket_type.currency }}" />
  <table class="payment_form small-12 columns">
    <tr>
      <td><label>Card number</label></td>
      <td><input class="card-number" type="text" size="20" /></td>
    </tr>

    <tr>
      <td>
        <label>CVC</label>
      </td>
      <td>
       <input class="card-cvc" type="text" size="4" /></div>
      </td>
    </tr>

    <tr>
      <td>
        <label>Name</label>
      </td>
      <td>
       <input class="card-holdername" type="text" size="4" value="{{ ticket.get_full_name }}" />
      </td>
    </tr>

    <tr>
      <td>
        <label>Expiry date (MM/YYYY)</label>
      </td>
      <td>
        <div class="row">
          <div class="small-4 columns">
           <input class="card-expiry-month" type="text" size="2" />
         </div>
         <div class="small-8 columns">
           <input class="card-expiry-year" type="text" size="4" />
         </div>
       </div>
     </td>
    </tr>


    </table>
   <button class="small-12 columns submit-button" type="submit">Submit</button>

 </form>

</div>
{% endblock content%}
{% block extrajs %}
<script type="text/javascript">
  var PAYMILL_PUBLIC_KEY = '{{ PAYMILL_PUBLIC_KEY }}';
</script>
<script type="text/javascript" src="https://bridge.paymill.com/"></script>
{% endblock extrajs %}