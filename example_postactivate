#!/bin/bash
# this hook is run after the virtualenv is activated. based on virtualenvwrapper.
# add source /path/to/postactivate in the virtualenv activate file.

# environmental varibales for django projects.
# these are imported into django settings, and also used by fabric or shell scripts.
# it should be a safer place to put passwords and other sensitive data.

# any environmental variable set here will be deployed using fabric bypassing git and github.
# fabric will generate different postactivate files for deployment on development, staging and production servers.
# rename to postactivate, and place in folder outside version control or use .gitignore

# see ./deployment_tools/fabfile for how postactivate files are generated and deployed.
# Inspired by the book "Two scoops of Django".


export django_site_url="example.com"                  # will by default be overwritten by fabric based on server host
export django_db_name="example"                       # based on url
export django_db_password="example"                   # will be autogenerated by fabric
export django_db_user="example"                       # based on url
export django_gmail_smtp_password="example"           # will be copied to deployed postactivate files
export django_gmail_smtp_user="example"               # will be copied to deployed postactivate files
export django_secret_key="example"                    # will be autogenerated by fabric
export django_settings_module="settings.local"        # based on subdomain in url
export django_source_folder="/srv/example.com/source" # folder containing django project under version control.
export django_user="example"                          # linux user

export PYTHONPATH="$DJANGO_SOURCE_FOLDER:$PYTHONPATH:"
cd $DJANGO_SOURCE_FOLDER
