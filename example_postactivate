#!/bin/bash

# this hook is run after the virtualenv is activated. based on virtualenvwrapper.
# add source /path/to/postactivate in the virtualenv activate file.

# environmental varibales for django projects.
# these are imported into django settings, and also used by fabric or shell scripts.
# it should be a safer place to put passwords and other sensitive data.

# any environmental variable set here will be deployed using fabric bypassing git and github.
# fabric will generate different postactivate files for deployment on development, staging and production servers.
# rename to postactivate, and place in folder outside version control or use .gitignore

# see ./deployment_tools/generate_settings.py for how postactivate files are generated.
# Inspired by the book "Two scoops of Django".

#### PROJECT ENVIORONMENTAL VARIABLES ####

export DJANGO_SITE_URL="localhost.example.com"                  # will by default be overwritten by fabric based on server host
export DJANGO_SOURCE_FOLDER="/srv/localhost.example.com/source" # folder containing django project under version control.
export DJANGO_SETTINGS_MODULE="settings.local"                  # django settings module to use.
export DJANGO_USER="localhost_example_com"                      # will be generated by fabric from site url

export DJANGO_SECRET_KEY="xxxxxxx"                              # will be randomly generated by fabric

export DJANGO_DB_NAME="localhost_example_com"                   # will be generated by fabric from site url
export DJANGO_DB_USER="localhost_example_com"                   # will be generated by fabric from site url
export DJANGO_DB_PASSWORD="xxxxxxx"                             # will be randomly generated by fabric

export DJANGO_GMAIL_PASSWORD="example"                          # will be inherited by deployed postactivate files
export DJANGO_GMAIL_USER="example@gmail.com"                    # will be inherited by deployed postactivate files

export DJANGO_DEBUG_TOOLBAR_INTERNAL_IPS="127.0.0.1"            # will be inherited by deployed postactivate files

#### END PROJECT ENVIORONMENTAL VARIABLES ####

export PYTHONPATH="$DJANGO_SOURCE_FOLDER:$PYTHONPATH:"
cd $DJANGO_SOURCE_FOLDER
